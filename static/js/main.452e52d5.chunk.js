(this.webpackJsonptrybetunes=this.webpackJsonptrybetunes||[]).push([[0],{30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(22),c=a.n(s),i=(a(30),a(6)),o=a(7),u=a(9),l=a(8),d=a(14),j=a(5),b=a(2),h=a.n(b),m=a(4),f=a(3),v=(a(32),a(0)),p=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"loading-screen",children:[Object(v.jsx)("span",{className:"spinner-border text-light"}),Object(v.jsx)("h1",{children:"Carregando..."})]})}}]),a}(r.a.Component),O=p,x=a(18),g="user",k=function(e){return localStorage.setItem(g,JSON.stringify(e))},N=function(e){return function(t){setTimeout((function(){t(e)}),0)}},y=function(){return new Promise((function(e){var t=JSON.parse(localStorage.getItem(g));null===t&&(t={}),N(t)(e)}))},w=function(e){return new Promise((function(t){k(Object(x.a)({},e)),N("OK")(t)}))},I=a.p+"static/media/logo.a43631c2.png",S=a.p+"static/media/avatar.816d9d09.svg",E=a.p+"static/media/heart-empty.08a37467.svg",R=a.p+"static/media/search-icon.fee2e41d.svg",F=a.p+"static/media/user.f8f6c3b8.svg",C=(a(34),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).userRequest=e.userRequest.bind(Object(f.a)(e)),e.state={userImage:"",loading:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.userRequest()}},{key:"userRequest",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0},Object(m.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:a=e.sent,500,setTimeout((function(){t.setState({userImage:a.image,loading:!1})}),500);case 5:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.userImage,a=e.loading;return Object(v.jsx)("header",{children:a?Object(v.jsx)(O,{}):Object(v.jsxs)("div",{className:"header",children:[Object(v.jsxs)("div",{className:"header-top",children:[Object(v.jsx)("img",{src:I,alt:"Logo do Trybe Tunes",className:"logo-header"}),Object(v.jsx)(d.b,{to:"/profile",className:"profile-link",children:Object(v.jsx)("img",{src:void 0!==t?t:S,alt:"Avatar",className:"avatar"})})]}),Object(v.jsxs)("nav",{className:"header-bottom",children:[Object(v.jsx)(d.b,{to:"/",className:"search-link",children:Object(v.jsx)("img",{src:R,alt:"lupa de pesquisa"})}),Object(v.jsx)("div",{className:"line1"}),Object(v.jsx)(d.b,{to:"/favorites",className:"favorites-link",children:Object(v.jsx)("img",{src:E,alt:"cora\xe7\xe3o de favoritos"})}),Object(v.jsx)("div",{className:"line2"}),Object(v.jsx)(d.b,{to:"/profile",className:"profile-link",children:Object(v.jsx)("img",{src:F,alt:"avatar de perfil"})})]})]})})}}]),a}(r.a.Component)),D=C,q=function(){var e=Object(m.a)(h.a.mark((function e(t){var a,n,r,s,c,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=encodeURI(t).replaceAll("%20","+"),n="https://itunes.apple.com/search?entity=musicTrack&limit=48&term=".concat(a,"&attribute=allArtistTerm"),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return s=e.sent,c=s.results,i=c.map((function(e){return{artistId:e.artistId,artistName:e.artistName,collectionId:e.collectionId,collectionName:e.collectionName,collectionPrice:e.collectionPrice,artworkUrl100:e.artworkUrl100,releaseDate:e.releaseDate,trackCount:e.trackCount}})),e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=q,A=(a(43),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleChange=e.handleChange.bind(Object(f.a)(e)),e.searchMusics=e.searchMusics.bind(Object(f.a)(e)),e.renderAlbums=e.renderAlbums.bind(Object(f.a)(e)),e.state={inputValue:"",artist:"",albums:[],buttonEnable:!0,loading:!1,foundAlbums:!1},e}return Object(o.a)(a,[{key:"handleChange",value:function(e){var t=e.target;this.setState({inputValue:t.value}),t.value.length>=1?this.setState({buttonEnable:!1}):this.setState({buttonEnable:!0})}},{key:"searchMusics",value:function(){var e=Object(m.a)(h.a.mark((function e(t){var a,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.state.inputValue,this.setState({loading:!0,artist:a},Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(a.replace(/\s+/g,"+"));case 2:t=e.sent,200,setTimeout((function(){n.setState({loading:!1,albums:t,foundAlbums:!0,inputValue:"",buttonEnable:!0})}),200);case 5:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderAlbums",value:function(e){return 0===e.length?Object(v.jsx)("p",{className:"not-found",children:"Nenhum resultado foi encontrado"}):e.map((function(e,t){return Object(v.jsx)(d.b,{to:"/album/".concat(e.collectionId),className:"nav-link",children:Object(v.jsxs)("div",{className:"album",children:[Object(v.jsx)("img",{src:e.artworkUrl100,alt:e.collectonName}),Object(v.jsx)("p",{className:"album-name",children:e.collectionName}),Object(v.jsx)("p",{className:"artist-name",children:e.artistName})]})},t)}))}},{key:"render",value:function(){var e=this.state,t=e.inputValue,a=e.artist,n=e.buttonEnable,r=e.loading,s=e.foundAlbums,c=e.albums;return Object(v.jsxs)("div",{className:"page",children:[Object(v.jsx)(D,{}),Object(v.jsxs)("div",{className:"search",children:[Object(v.jsxs)("form",{className:"form-search",children:[Object(v.jsx)("input",{type:"text",onChange:this.handleChange,value:t,className:"search-input",placeholder:"Nome do Artista"}),Object(v.jsx)("button",{type:"submit",disabled:n,onClick:this.searchMusics,className:"search-button",children:Object(v.jsx)("img",{src:R,alt:"lupa de pesquisa"})})]}),r&&Object(v.jsx)(O,{}),s&&Object(v.jsxs)("div",{className:"results",children:[Object(v.jsx)("h4",{className:"result-titles",children:'Resultados de "'.concat(a,'" :')}),this.renderAlbums(c)]})]})]})}}]),a}(r.a.Component)),U=A,T=function(){var e=Object(m.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/lookup?id=".concat(t,"&entity=song"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=T,J=a(25),V="favorite_songs";JSON.parse(localStorage.getItem(V))||localStorage.setItem(V,JSON.stringify([]));var B=function(){return JSON.parse(localStorage.getItem(V))},L=function(e){return localStorage.setItem(V,JSON.stringify(e))},K=function(e){return function(t){setTimeout((function(){t(e)}),500)}},_=function(){return new Promise((function(e){var t=B();K(t)(e)}))},$=function(e){return new Promise((function(t){if(e){var a=B();L([].concat(Object(J.a)(a),[e]))}K("OK")(t)}))},z=function(e){return new Promise((function(t){var a=B();L(a.filter((function(t){return t.trackId!==e.trackId}))),K("OK")(t)}))},G=a.p+"static/media/heart-filled.30537650.svg",H=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).addAndRemoveFavorite=e.addAndRemoveFavorite.bind(Object(f.a)(e)),e.checkFavorite=e.checkFavorite.bind(Object(f.a)(e)),e.state={isFavorite:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.checkFavorite()}},{key:"checkFavorite",value:function(){var e=this.props,t=e.favorites,a=e.songInfo,n=t.some((function(e){return e.trackId===a.trackId}));this.setState({isFavorite:n})}},{key:"addAndRemoveFavorite",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,a,n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.songInfo,n=t.cardType,r=t.removeFavorite,s=this.state.isFavorite,"fav"!==n){e.next=6;break}r(a),e.next=14;break;case 6:if(this.setState((function(e){return{isFavorite:!e.isFavorite}})),!s){e.next=12;break}return e.next=10,z(a);case 10:e.next=14;break;case 12:return e.next=14,$(a);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,a=t.songInfo,n=t.trackName,r=t.previewUrl,s=t.cardType,c=this.state.isFavorite;return Object(v.jsxs)("div",{className:"music-player-".concat(s),children:["fav"===s&&Object(v.jsx)("img",{src:a.artworkUrl100,alt:"capa da musica ".concat(n)}),Object(v.jsx)("p",{children:n}),void 0!==r&&Object(v.jsxs)("audio",{src:r,controls:!0,children:[Object(v.jsx)("track",{kind:"captions"}),"O seu navegador n\xe3o suporta o elemento",Object(v.jsx)("code",{children:"audio"})]}),Object(v.jsx)("button",{type:"button",className:"like-button-".concat(s),onClick:function(){e.addAndRemoveFavorite()},children:Object(v.jsx)("img",{src:c?G:E,alt:"bot\xe3o em formato de cora\xe7\xe3o para favoritar a musica"})})]})}}]),a}(r.a.Component);H.defaultProps={removeFavorite:function(){}};var Q=H,W=(a(44),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).musics=e.musics.bind(Object(f.a)(e)),e.favoriteMusics=e.favoriteMusics.bind(Object(f.a)(e)),e.state={album:[],loading:!0,favorites:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.favoriteMusics()}},{key:"favoriteMusics",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return t=e.sent,a=this.props.match,e.next=6,P(a.params.id);case 6:n=e.sent,this.setState({album:n,loading:!1,favorites:t});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"musics",value:function(e){var t=this.state.favorites,a=e.filter((function(e,t){return 0!==t}));return a.map((function(e,a){return Object(v.jsx)(Q,{songInfo:e,favorites:t,trackName:e.trackName,trackId:e.trackId,previewUrl:e.previewUrl,cardType:"default"},a)}))}},{key:"render",value:function(){var e=this.state,t=e.album,a=e.loading;return Object(v.jsxs)("div",{className:"div-album",children:[Object(v.jsx)(D,{}),a?Object(v.jsx)(O,{}):Object(v.jsxs)("div",{className:"music-list-album",children:[Object(v.jsxs)("div",{className:"album-info",children:[Object(v.jsx)("img",{src:t[0].artworkUrl100,alt:t[0].collectionName}),Object(v.jsx)("h2",{children:t[0].artistName}),Object(v.jsx)("p",{children:t[0].collectionName})]}),Object(v.jsx)("div",{className:"album-list",children:this.musics(t)})]})]})}}]),a}(r.a.Component)),X=W,Y=(a(45),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).favoriteSongs=e.favoriteSongs.bind(Object(f.a)(e)),e.songRequest=e.songRequest.bind(Object(f.a)(e)),e.Reloadsongs=e.Reloadsongs.bind(Object(f.a)(e)),e.removeFavorite=e.removeFavorite.bind(Object(f.a)(e)),e.state={loading:!1,favorites:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.songRequest()}},{key:"songRequest",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,_();case 3:t=e.sent,this.setState({favorites:t,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Reloadsongs",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:t=e.sent,this.setState({favorites:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"favoriteSongs",value:function(){var e=this,t=this.state.favorites;return t.map((function(a,n){return Object(v.jsx)(Q,{songInfo:a,favorites:t,trackName:a.trackName,trackId:a.trackId,previewUrl:a.previewUrl,removeFavorite:e.removeFavorite,cardType:"fav"},n)}))}},{key:"removeFavorite",value:function(e){z(e),this.Reloadsongs()}},{key:"render",value:function(){var e=this.state.loading;return Object(v.jsxs)("div",{className:"favorites-page",children:[Object(v.jsx)(D,{}),e?Object(v.jsx)(O,{}):Object(v.jsxs)("div",{className:"favorites",children:[Object(v.jsxs)("div",{className:"favorites-info",children:[Object(v.jsx)("img",{src:G,alt:"icone em formato de cora\xe7\xe3o"}),Object(v.jsx)("h2",{children:"M\xfasicas Favoritas"})]}),Object(v.jsx)("div",{className:"favorites-list",children:this.favoriteSongs()})]})]})}}]),a}(r.a.Component)),Z=Y,ee=a.p+"static/media/edit_icon.8286fa36.svg",te=(a(46),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).userRequest=e.userRequest.bind(Object(f.a)(e)),e.userRender=e.userRender.bind(Object(f.a)(e)),e.state={userName:"",userEmail:"",userImage:"",userDescription:"",loading:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.userRequest()}},{key:"userRequest",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0},Object(m.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:a=e.sent,t.setState({userName:a.name,userEmail:a.email,userImage:a.image,userDescription:a.description,loading:!1});case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"userRender",value:function(){var e=this.state,t=e.userName,a=e.userEmail,n=e.userImage,r=e.userDescription;return Object(v.jsxs)("div",{className:"profile",children:[Object(v.jsxs)("div",{className:"div-profile-picture",children:[Object(v.jsx)("img",{src:void 0!==n?n:S,alt:t,className:"profile-picture"}),Object(v.jsx)(d.b,{to:"/profile/edit",children:Object(v.jsxs)("i",{children:[Object(v.jsx)("img",{src:ee,className:"edit-icon",alt:"editar"}),Object(v.jsx)("p",{children:"Editar Perfil"})]})})]}),Object(v.jsxs)("div",{className:"profile-infos",children:[Object(v.jsx)("h4",{children:"Nome de Usu\xe1rio"}),Object(v.jsx)("p",{children:t}),Object(v.jsx)("h4",{children:"E-mail"}),Object(v.jsx)("p",{children:a}),Object(v.jsx)("h4",{children:"Descri\xe7\xe3o"}),Object(v.jsx)("p",{children:r})]})]})}},{key:"render",value:function(){var e=this.state.loading;return Object(v.jsxs)("div",{className:"profile-page",children:[Object(v.jsx)(D,{}),e?Object(v.jsx)(O,{}):this.userRender()]})}}]),a}(r.a.Component)),ae=te,ne=a(17),re=(a(47),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).userRequest=e.userRequest.bind(Object(f.a)(e)),e.formEdit=e.formEdit.bind(Object(f.a)(e)),e.handleEdit=e.handleEdit.bind(Object(f.a)(e)),e.checkInputs=e.checkInputs.bind(Object(f.a)(e)),e.saveEdit=e.saveEdit.bind(Object(f.a)(e)),e.state={userName:"",userEmail:"",userImage:"",userDescription:"",disableButton:!0,loading:!1,loadingSave:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.userRequest()}},{key:"handleEdit",value:function(e){var t=this,a=e.target;this.setState(Object(ne.a)({},a.id,a.value),(function(){t.checkInputs()}))}},{key:"saveEdit",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t,a,n,r,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.userName,n=t.userEmail,r=t.userImage,s=t.userDescription,c=this.props.history.push,e.next=4,w({name:a,email:n,image:r,description:s});case 4:c("/profile");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"userRequest",value:function(){var e=Object(m.a)(h.a.mark((function e(){var t=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0},Object(m.a)(h.a.mark((function e(){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:a=e.sent,0!==Object.entries(a).length?(t.setState({userName:a.name,userEmail:a.email,userImage:a.image,userDescription:a.description,loading:!1}),t.checkInputs()):t.setState({loading:!1});case 4:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"formEdit",value:function(){var e=this.state,t=e.userName,a=e.userEmail,n=e.userImage,r=e.userDescription,s=e.disableButton;return Object(v.jsxs)("form",{className:"form-edit",children:[Object(v.jsxs)("label",{className:"edit-picture",htmlFor:"userImage",children:[Object(v.jsx)("img",{src:""!==n?n:S,alt:"foto de pertil",className:"profile-picture-edit"}),Object(v.jsx)("input",{type:"text",id:"userImage",onChange:this.handleEdit,value:n})]}),Object(v.jsxs)("label",{className:"edit-info",htmlFor:"userName",children:[Object(v.jsx)("h4",{children:"Nome de Usu\xe1rio"}),Object(v.jsx)("input",{type:"text",id:"userName",onChange:this.handleEdit,value:t,maxLength:30})]}),Object(v.jsxs)("label",{className:"edit-info",htmlFor:"userEmail",children:[Object(v.jsx)("h4",{children:"E-mail"}),Object(v.jsx)("input",{type:"text",id:"userEmail",onChange:this.handleEdit,value:a,maxLength:35})]}),Object(v.jsxs)("label",{className:"edit-info",htmlFor:"userDescription",children:[Object(v.jsx)("h4",{children:"Descri\xe7\xe3o"}),Object(v.jsx)("textarea",{id:"userDescription",onChange:this.handleEdit,value:r,maxLength:140})]}),Object(v.jsx)("button",{type:"button",disabled:s,onClick:this.saveEdit,children:"Salvar"})]})}},{key:"checkInputs",value:function(){var e=this.state,t=e.userName,a=e.userEmail,n=e.userImage,r=e.userDescription,s=[0!==t.length,0!==a.length,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a),0!==n.length,0!==r.length].every((function(e){return!0===e}));this.setState({disableButton:!s})}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.loadingSave;return Object(v.jsxs)("div",{className:"profile-edit-page",children:[Object(v.jsx)(D,{}),t?Object(v.jsx)(O,{}):this.formEdit(),a&&Object(v.jsx)(O,{})]})}}]),a}(r.a.Component)),se=re,ce=a.p+"static/media/error.d6f1938b.svg",ie=(a(48),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsxs)("div",{className:"not-found-page",children:[Object(v.jsx)("img",{src:ce,alt:"icone de erro"}),Object(v.jsxs)("div",{className:"error-message",children:[Object(v.jsx)("p",{children:"P\xe1gina"}),Object(v.jsx)("p",{children:"N\xe3o"}),Object(v.jsx)("p",{children:"Encontrada"})]})]})}}]),a}(r.a.Component)),oe=ie,ue=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return Object(v.jsx)("main",{children:Object(v.jsx)(d.a,{children:Object(v.jsxs)(j.c,{children:[Object(v.jsx)(j.a,{exact:!0,path:"/trybetunes/",component:U}),Object(v.jsx)(j.a,{exact:!0,path:"/trybetunes/album/:id",component:X}),Object(v.jsx)(j.a,{exact:!0,path:"/trybetunes/favorites",component:Z}),Object(v.jsx)(j.a,{exact:!0,path:"/trybetunes/profile",component:ae}),Object(v.jsx)(j.a,{exact:!0,path:"/trybetunes/profile/edit",component:se}),Object(v.jsx)(j.a,{path:"*",component:oe})]})})})}}]),a}(r.a.Component),le=ue;a(49);c.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(le,{})}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.452e52d5.chunk.js.map